import eventUtil from"../core/utils/event-util";Component({properties:{columnGap:{type:String,value:"20rpx"}},data:{data:[],leftData:[],rightData:[]},attached(){this._init()},pageLifetimes:{show(){this._init()}},methods:{_init(){wx.lin=wx.lin||{},wx.lin.renderWaterFlow=(t=[],e=!1,i)=>{if("[object Array]"!==Object.prototype.toString.call(t))return console.error("[data]参数类型错误，渲染失败"),!1;e&&(this.data.leftData=[],this.data.rightData=[]),this._select(t,e).then(()=>{i&&i()})}},_select(t,e){const i=wx.createSelectorQuery().in(this);return this.columnNodes=i.selectAll("#left, #right"),new Promise(i=>{this._render(t,0,e,()=>{i()})})},_render(t,e,i,a){t.length>e?this.columnNodes.boundingClientRect().exec(h=>{const r=h[0];this.data.leftHeight=r[0].height,this.data.rightHeight=r[1].height,this.data.leftHeight<=this.data.rightHeight||i?this.data.leftData.push(t[e]):this.data.rightData.push(t[e]),this.setData({leftData:this.data.leftData,rightData:this.data.rightData},()=>{this._render(t,++e,!1,a)})}):a&&a()},onTapItem(t){eventUtil.emit(this,"linitemtap",t.detail)}}});